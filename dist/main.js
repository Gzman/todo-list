(()=>{"use strict";function t(){return{events:{},subscribe(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)},unsubscribe(t,e){this.events[t]&&(this.events[t]=this.events[t]?.filter((t=>t!==e)))},publish(t,e){this.events[t]?.forEach((t=>t(e)))}}}const e="SaveProjects",n="UpdateProjects",r="GetStoredProjects",a="GetStoredProjectsResponse",i=t(),o="Projects",s=t=>{Promise.resolve(t).then((t=>(t=>JSON.stringify(t))(t))).then((t=>{return e=t,localStorage.setItem(o,e);var e})).then(console.log("Projects saved",Date.now()))},c=(i.subscribe(e,(t=>s(t))),i.subscribe(n,(t=>(t=>s(t))(t))),i.subscribe(r,(()=>{const t=(e=localStorage.getItem(o),JSON.parse(e));var e;i.publish(a,t)})),"GetProjects"),u="GetProjectsResponse",l="GetProject",d="GetProjectResponse",h="CreateProject",f="RemoveProject",m="GetTaskCount",w="GetTaskCountResponse",p="GetTask",g="GetTaskResponse",b="CreateTask",v="RemoveTask",y="EditTask",T="DoesProjectExists",k="DoesProjectExistsResponse",C="DoesTaskExists",x="DoesTaskExistsResponse",D="GetFilteredTasks",E="FilterTasks",M="FilterCompletedTasks",L="FilterCriticalTasks",S="FilterAllTasks",q="FilterTaskByDate",U="FilterByWeek",P="FilterByMonth",j=t();class Y{constructor(t,e,n,r,a=!1){this.title=t,this.description=e,this.dueDate=n,this.priority=r,this.isComplete=a}}function H(t){return this.tasks.find((e=>e.title===t))}class N{constructor(t){this.title=t,this.tasks=[]}getTask(t){const e=H.call(this,t);return e?{...e}:null}getTasks(){return[...this.tasks]}addTask(t,e,n,r){H.call(this,t)||this.tasks.push(new Y(t,e,n,r))}removeTask(t){this.tasks=this.tasks.filter((e=>e.title!==t))}toggleTaskStatus(t,e){const n=H.call(this,t);n&&(n.isComplete=e)}editTask(t,e,n,r,a,i=!1){const o=H.call(this,t);o&&(e&&(o.title=e),n&&(o.description=n),r&&(o.dueDate=r),a&&(o.priority=a),o.isComplete=i)}}const W=t=>{const e=Math.floor(Math.random()*t),n=new Date;return n.setTime(Date.now()+864e5*e),n};function O(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function I(t){O(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function F(t){O(1,arguments);var e=I(t);return!isNaN(e)}var Q={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function G(t){return function(e){var n=e||{},r=n.width?String(n.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}var R,B={date:G({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:G({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:G({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},X={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function z(t){return function(e,n){var r,a=n||{};if("formatting"===(a.context?String(a.context):"standalone")&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=a.width?String(a.width):i;r=t.formattingValues[o]||t.formattingValues[i]}else{var s=t.defaultWidth,c=a.width?String(a.width):t.defaultWidth;r=t.values[c]||t.values[s]}return r[t.argumentCallback?t.argumentCallback(e):e]}}function A(t){return function(e,n){var r=String(e),a=n||{},i=a.width,o=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],s=r.match(o);if(!s)return null;var c,u=s[0],l=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth];return c="[object Array]"===Object.prototype.toString.call(l)?function(t,e){for(var n=0;n<t.length;n++)if(t[n].test(u))return n}(l):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(u))return n}(l),c=t.valueCallback?t.valueCallback(c):c,{value:c=a.valueCallback?a.valueCallback(c):c,rest:r.slice(u.length)}}}const $={code:"en-US",formatDistance:function(t,e,n){var r;return n=n||{},r="string"==typeof Q[t]?Q[t]:1===e?Q[t].one:Q[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:B,formatRelative:function(t,e,n,r){return X[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:z({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:z({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:z({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:z({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:z({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(R={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),r=e||{},a=n.match(R.matchPattern);if(!a)return null;var i=a[0],o=n.match(R.parsePattern);if(!o)return null;var s=R.valueCallback?R.valueCallback(o[0]):o[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(i.length)}}),era:A({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:A({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:A({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:A({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:A({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function J(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function K(t,e){O(2,arguments);var n=I(t).getTime(),r=J(e);return new Date(n+r)}function Z(t,e){O(2,arguments);var n=J(e);return K(t,-n)}function V(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}const _=function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return V("yy"===e?r%100:r,e.length)},tt=function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):V(n+1,2)},et=function(t,e){return V(t.getUTCDate(),e.length)},nt=function(t,e){return V(t.getUTCHours()%12||12,e.length)},rt=function(t,e){return V(t.getUTCHours(),e.length)},at=function(t,e){return V(t.getUTCMinutes(),e.length)},it=function(t,e){return V(t.getUTCSeconds(),e.length)},ot=function(t,e){var n=e.length,r=t.getUTCMilliseconds();return V(Math.floor(r*Math.pow(10,n-3)),e.length)};var st=864e5;function ct(t){O(1,arguments);var e=1,n=I(t),r=n.getUTCDay(),a=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function ut(t){O(1,arguments);var e=I(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=ct(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=ct(i);return e.getTime()>=a.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function lt(t){O(1,arguments);var e=ut(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=ct(n);return r}var dt=6048e5;function ht(t){O(1,arguments);var e=I(t),n=ct(e).getTime()-lt(e).getTime();return Math.round(n/dt)+1}function ft(t,e){O(1,arguments);var n=e||{},r=n.locale,a=r&&r.options&&r.options.weekStartsOn,i=null==a?0:J(a),o=null==n.weekStartsOn?i:J(n.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=I(t),c=s.getUTCDay(),u=(c<o?7:0)+c-o;return s.setUTCDate(s.getUTCDate()-u),s.setUTCHours(0,0,0,0),s}function mt(t,e){O(1,arguments);var n=I(t,e),r=n.getUTCFullYear(),a=e||{},i=a.locale,o=i&&i.options&&i.options.firstWeekContainsDate,s=null==o?1:J(o),c=null==a.firstWeekContainsDate?s:J(a.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(r+1,0,c),u.setUTCHours(0,0,0,0);var l=ft(u,e),d=new Date(0);d.setUTCFullYear(r,0,c),d.setUTCHours(0,0,0,0);var h=ft(d,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function wt(t,e){O(1,arguments);var n=e||{},r=n.locale,a=r&&r.options&&r.options.firstWeekContainsDate,i=null==a?1:J(a),o=null==n.firstWeekContainsDate?i:J(n.firstWeekContainsDate),s=mt(t,e),c=new Date(0);c.setUTCFullYear(s,0,o),c.setUTCHours(0,0,0,0);var u=ft(c,e);return u}var pt=6048e5;function gt(t,e){O(1,arguments);var n=I(t),r=ft(n,e).getTime()-wt(n,e).getTime();return Math.round(r/pt)+1}function bt(t,e){var n=t>0?"-":"+",r=Math.abs(t),a=Math.floor(r/60),i=r%60;if(0===i)return n+String(a);var o=e||"";return n+String(a)+o+V(i,2)}function vt(t,e){return t%60==0?(t>0?"-":"+")+V(Math.abs(t)/60,2):yt(t,e)}function yt(t,e){var n=e||"",r=t>0?"-":"+",a=Math.abs(t);return r+V(Math.floor(a/60),2)+n+V(a%60,2)}const Tt={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var r=t.getUTCFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return _(t,e)},Y:function(t,e,n,r){var a=mt(t,r),i=a>0?a:1-a;return"YY"===e?V(i%100,2):"Yo"===e?n.ordinalNumber(i,{unit:"year"}):V(i,e.length)},R:function(t,e){return V(ut(t),e.length)},u:function(t,e){return V(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return V(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return V(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return tt(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return V(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var a=gt(t,r);return"wo"===e?n.ordinalNumber(a,{unit:"week"}):V(a,e.length)},I:function(t,e,n){var r=ht(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):V(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):et(t,e)},D:function(t,e,n){var r=function(t){O(1,arguments);var e=I(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),a=n-r;return Math.floor(a/st)+1}(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):V(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var a=t.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return V(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var a=t.getUTCDay(),i=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return V(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),a=0===r?7:r;switch(e){case"i":return String(a);case"ii":return V(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r,a=t.getUTCHours();switch(r=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r,a=t.getUTCHours();switch(r=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var r=t.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return nt(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):rt(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):V(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):V(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):at(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):it(t,e)},S:function(t,e){return ot(t,e)},X:function(t,e,n,r){var a=(r._originalDate||t).getTimezoneOffset();if(0===a)return"Z";switch(e){case"X":return vt(a);case"XXXX":case"XX":return yt(a);case"XXXXX":case"XXX":default:return yt(a,":")}},x:function(t,e,n,r){var a=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return vt(a);case"xxxx":case"xx":return yt(a);case"xxxxx":case"xxx":default:return yt(a,":")}},O:function(t,e,n,r){var a=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+bt(a,":");case"OOOO":default:return"GMT"+yt(a,":")}},z:function(t,e,n,r){var a=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+bt(a,":");case"zzzz":default:return"GMT"+yt(a,":")}},t:function(t,e,n,r){var a=r._originalDate||t;return V(Math.floor(a.getTime()/1e3),e.length)},T:function(t,e,n,r){return V((r._originalDate||t).getTime(),e.length)}};function kt(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function Ct(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}const xt={p:Ct,P:function(t,e){var n,r=t.match(/(P+)(p+)?/),a=r[1],i=r[2];if(!i)return kt(t,e);switch(a){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;case"PPPP":default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",kt(a,e)).replace("{{time}}",Ct(i,e))}};function Dt(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var Et=["D","DD"],Mt=["YY","YYYY"];function Lt(t){return-1!==Et.indexOf(t)}function St(t){return-1!==Mt.indexOf(t)}function qt(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var Ut=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jt=/^'([^]*?)'?$/,Yt=/''/g,Ht=/[a-zA-Z]/;function Nt(t,e,n){O(2,arguments);var r=String(e),a=n||{},i=a.locale||$,o=i.options&&i.options.firstWeekContainsDate,s=null==o?1:J(o),c=null==a.firstWeekContainsDate?s:J(a.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=i.options&&i.options.weekStartsOn,l=null==u?0:J(u),d=null==a.weekStartsOn?l:J(a.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!i.localize)throw new RangeError("locale must contain localize property");if(!i.formatLong)throw new RangeError("locale must contain formatLong property");var h=I(t);if(!F(h))throw new RangeError("Invalid time value");var f=Dt(h),m=Z(h,f),w={firstWeekContainsDate:c,weekStartsOn:d,locale:i,_originalDate:h},p=r.match(Pt).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,xt[e])(t,i.formatLong,w):t})).join("").match(Ut).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return Wt(n);var o=Tt[r];if(o)return!a.useAdditionalWeekYearTokens&&St(n)&&qt(n,e,t),!a.useAdditionalDayOfYearTokens&&Lt(n)&&qt(n,e,t),o(m,n,i.localize,w);if(r.match(Ht))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return p}function Wt(t){return t.match(jt)[1].replace(Yt,"'")}function Ot(t,e){O(1,arguments);var n=e||{},r=n.locale,a=r&&r.options&&r.options.weekStartsOn,i=null==a?0:J(a),o=null==n.weekStartsOn?i:J(n.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=I(t),c=s.getDay(),u=(c<o?7:0)+c-o;return s.setDate(s.getDate()-u),s.setHours(0,0,0,0),s}function It(t,e){var n,r;O(1,arguments);var a=I(t),i=a.getFullYear(),o=null==e||null===(n=e.locale)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.firstWeekContainsDate,s=null==o?1:J(o),c=null==(null==e?void 0:e.firstWeekContainsDate)?s:J(e.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setFullYear(i+1,0,c),u.setHours(0,0,0,0);var l=Ot(u,e),d=new Date(0);d.setFullYear(i,0,c),d.setHours(0,0,0,0);var h=Ot(d,e);return a.getTime()>=l.getTime()?i+1:a.getTime()>=h.getTime()?i:i-1}function Ft(t,e){O(1,arguments);var n=e||{},r=n.locale,a=r&&r.options&&r.options.firstWeekContainsDate,i=null==a?1:J(a),o=null==n.firstWeekContainsDate?i:J(n.firstWeekContainsDate),s=It(t,e),c=new Date(0);c.setFullYear(s,0,o),c.setHours(0,0,0,0);var u=Ot(c,e);return u}var Qt=6048e5;function Gt(t,e){O(1,arguments);var n=I(t),r=Ot(n,e).getTime()-Ft(n,e).getTime();return Math.round(r/Qt)+1}const Rt=(t,e)=>t.reduce(((t,n)=>{const r=n.getTasks().filter(e);return r?.length>=1&&t.push({project:n.title,tasks:r}),t}),[]),Bt=(t,e)=>{const n=e.toLowerCase();return Rt(t,(t=>{const e=t.dueDate?Nt(t.dueDate,"dd.MM.yyyy"):"";return t.title.toLowerCase().includes(n)||t.priority.toLowerCase()===n||e.includes(n)}))},Xt=t=>Rt(t,(t=>t.isComplete)),zt=t=>Rt(t,(t=>"High"===t.priority)),At=t=>Rt(t,(t=>null!==t)),$t=t=>{const e=new Date;return Rt(t,(t=>e.getFullYear()===t.dueDate?.getFullYear()&&e.getMonth()===t.dueDate?.getMonth()&&e.getDate()===t.dueDate?.getDate()))},Jt=t=>{const e=Gt(new Date);return Rt(t,(t=>Gt(t.dueDate)===e))},Kt=t=>{const e=new Date;return Rt(t,(t=>t.dueDate?.getFullYear()===e.getFullYear()&&t.dueDate?.getMonth()===e.getMonth()))},Zt=new N("Inbox");let Vt=[Zt];function _t(t){return Vt.find((e=>e.title===t))}function te(t,e,n){const r=e(Vt,n);j.publish(D,{filter:t,filtered:r})}i.subscribe(a,(function(t){const e=function(t){const e=t?.map((t=>Object.assign(new N,t)));return e?.forEach((t=>t?.tasks.forEach((t=>{t.dueDate&&(t.dueDate=new Date(t.dueDate))})))),e}(t);if(e)return void(Vt=e);const n=(()=>{const t=new N("Example");t.tasks=[new Y("Grocery shopping","Milk, apples, bananas, bread",W(3),"Low",!0),new Y("Help moving","Help a friend moving to munich",W(30),"Medium")];const e=new N("Homework");e.tasks=[new Y("Weight training","10 reps , with 40kg, three times",W(15),"Low"),new Y("Cutting tree branches","Old dry/dead branches needs to be cut",W(10),"Low",!0),new Y("Car cleaning","Wash and vacuum clean the car",W(10),"Low",!0),new Y("Garage cleaning","",W(30),"High")];const n=new N("Web development");return n.tasks=[new Y("Learn react","",W(20),"Medium"),new Y("Learn NoSql","",W(20),"Medium"),new Y("Learn Design Patterns","",W(22),"High"),new Y("Learn a Js framework","",W(30),"Low")],[t,e,n]})();Vt=[...Vt,...n]})),i.publish(r,null),j.subscribe(c,(function(){const t=Vt.filter((t=>t.title!==Zt.title)).map((t=>t.title));j.publish(u,t)})),j.subscribe(l,(function(t){const e=_t(t);if(e){const t=e.getTasks();j.publish(d,{projectTitle:e.title,tasks:t})}})),j.subscribe(h,(function(t){_t(t)||(Vt.push(new N(t)),i.publish(e,Vt))})),j.subscribe(f,(function(t){Vt=Vt.filter((e=>e.title!==t)),i.publish(n,Vt)})),j.subscribe(b,(function({projectTitle:t,title:e,description:r,dueDate:a,priority:o}){_t(t)?.addTask(e,r,a,o),i.publish(n,Vt)})),j.subscribe(v,(function({projectTitle:t,title:e}){_t(t)?.removeTask(e),i.publish(n,Vt)})),j.subscribe(y,(function({projectTitle:t,taskToEdit:e,title:r,description:a,dueDate:o,priority:s,isComplete:c}){_t(t)?.editTask(e,r,a,o,s,c),i.publish(n,Vt)})),j.subscribe(p,(function({projectTitle:t,title:e}){const n=_t(t)?.getTask(e);j.publish(g,{projectTitle:t,task:n})})),j.subscribe(T,(function(t){const e=!!_t(t);j.publish(k,e)})),j.subscribe(C,(function({projectTitle:t,title:e}){const n=!!_t(t)?.getTask(e);j.publish(x,n)})),j.subscribe(m,(function(t){const e=_t(t).tasks.length;j.publish(w,{projectTitle:t,taskCount:e})})),j.subscribe(E,(t=>te(`Search: ${t}`,Bt,t))),j.subscribe(M,(()=>te("Complete Tasks",Xt))),j.subscribe(L,(()=>te("Critical Tasks",zt))),j.subscribe(S,(()=>te("All Tasks",At))),j.subscribe(q,(t=>te(t,$t))),j.subscribe(U,(t=>te(t,Jt))),j.subscribe(P,(t=>te(t,Kt))),function(){const t=document.querySelector("#global-filter-text"),e=document.querySelector("#global-filter-projects"),n=document.querySelector("#global-filter-critical"),r=document.querySelector("#global-filter-all");t.addEventListener("keyup",(t=>{const e=t.currentTarget;j.publish(E,e.value)})),e.addEventListener("click",(()=>{j.publish(M,null)})),n.addEventListener("click",(()=>{j.publish(L,null)})),r.addEventListener("click",(()=>{j.publish(S,null)}))}();const ee=t=>{document.querySelector(".activeItem")?.classList.remove("activeItem"),t?.classList.add("activeItem")},ne="dd.MM.yyyy";function re(t){const e=document.createElement("p");e.classList.add("project-item-name"),e.textContent=t;const n=function(t){const e=document.createElement("p");return e.classList.add("project-item-counter"),e.classList.add("hideItem"),e.textContent="0",j.subscribe(w,(({projectTitle:n,taskCount:r})=>{t===n&&r>0&&(e.textContent=r,e.classList.remove("hideItem"))})),j.publish(m,t),j.subscribe(b,(({projectTitle:n})=>{if(t!==n)return;let r=parseInt(e.textContent);e.textContent=++r,r>0&&e.classList.contains("hideItem")&&e.classList.remove("hideItem")})),j.subscribe(v,(({projectTitle:n})=>{if(t!==n)return;let r=parseInt(e.textContent);e.textContent=--r,r<=0&&e.classList.add("hideItem")})),e}(t),r=document.createElement("div");return r.classList.add("project-item"),r.addEventListener("click",(()=>j.publish(l,e.textContent))),r.append(e,n),j.subscribe(l,(t=>{if("Inbox"===t){const t=document.querySelector(".projects-inbox-btn");return void ee(t)}const n=r.closest(".project-list-view");e.textContent===t&&n&&ee(r)})),j.subscribe(f,(t=>{e.textContent===t&&r.remove()})),r}!function(){const t=document.querySelector(".projects-inbox-btn"),e=document.querySelector(".projects-today-btn"),n=document.querySelector(".projects-week-btn"),r=document.querySelector(".projects-month-btn");t.addEventListener("click",(e=>{ee(e.currentTarget),j.publish(l,t.textContent)})),e.addEventListener("click",(t=>{ee(t.currentTarget),j.publish(q,Nt(new Date,"EEEE"))})),n.addEventListener("click",(t=>{ee(t.currentTarget),j.publish(U,`${Nt(new Date,"wo")} Week`)})),r.addEventListener("click",(t=>{ee(t.currentTarget),j.publish(P,Nt(new Date,"LLLL"))}))}(),function(){const t=document.querySelector(".projects-items"),e=document.querySelector(".projects-add-btn"),n=document.querySelector(".new-project-container");j.subscribe(u,(e=>{e.map((t=>re(t))).forEach((e=>t.appendChild(e)))})),j.publish(c,null),j.subscribe(h,(e=>{const n=re(e);t.append(n),j.publish(l,e)})),e.addEventListener("click",(()=>{n.classList.add("showItem")}))}(),function(){const t=document.querySelector(".project-list-view"),e=document.querySelector(".project-list-view-btn"),n=document.querySelector(".global-filter");e.addEventListener("click",(()=>{t.classList.toggle("showProjectListView")})),t.addEventListener("click",(()=>{t.classList.contains("showProjectListView")&&t.classList.remove("showProjectListView")})),n.addEventListener("click",(()=>{t.classList.remove("showProjectListView")}))}();const ae=(()=>{let t=!0;return j.subscribe(x,(e=>t=e)),(e,n)=>(j.publish(C,{projectTitle:e,title:n}),t)})(),ie=(()=>{let t=!0;return j.subscribe(k,(e=>t=e)),e=>(j.publish(T,e),t)})(),oe=t=>t.length<1?"Name must be set":null,se=(t,e,n)=>n!==e&&ae(t,n)?"Task already exists.":null,ce=t=>{const e=new Date;return e.setHours(0),new Date(t)<e?"Date can't be set in the past.":null},ue=t=>{const e=document.querySelector(t),n=()=>{e.classList.remove("showItem"),e.textContent=""};return{render:t=>{n(),t.forEach((t=>{const n=document.createElement("p");n.textContent=t,e.append(n)})),e.classList.add("showItem")},reset:n}};!function(){const t=document.querySelector(".new-project-lightbox"),e=t.querySelector("#new-project-form"),n=e.querySelector("#new-project-name"),r=e.querySelector(".new-project-create-btn"),a=e.querySelector(".new-project-cancel-btn"),i=ue(".new-project-feedback"),o=t=>{t?.preventDefault(),e.reset(),i.reset(),document.querySelector(".new-project-container").classList.remove("showItem")},s=t=>{t?.preventDefault();const e=[oe(n.value),(r=n.value,ie(r)?"Project already exists.":null)].filter((t=>null!==t));var r;0===e.length?(j.publish(h,n.value),o()):i.render(e)};r.addEventListener("click",s),a.addEventListener("click",o),t.addEventListener("keypress",(t=>{"Enter"===t.key&&s(t),"Escape"===t.key&&o(t)}))}();const le=["Low","Medium","High"],de=t=>le.indexOf(t);function he(t,{title:e,description:n,priority:r,dueDate:a,isComplete:i}){const o=document.createElement("div");o.classList.add("task-item"),o.dataset.project=t,o.dataset.task=e;const s=document.createElement("input");s.type="checkbox",s.classList.add("task-item-complete"),s.checked=i,i&&o.classList.add("itemComplete"),s.addEventListener("change",(t=>{o.classList.toggle("itemComplete"),j.publish(y,{projectTitle:o.dataset.project,taskToEdit:o.dataset.task,title:o.dataset.task,description:u.textContent,priority:me(o),dueDate:l.value?new Date(l.value):null,isComplete:t.currentTarget.checked})}));const c=document.createElement("p");c.classList.add("task-item-name"),c.textContent=e;const u=document.createElement("p");u.classList.add("task-item-description"),u.textContent=n;const l=document.createElement("p");l.classList.add("task-item-date"),a&&(l.textContent=Nt(a,ne));const d=document.createElement("button");d.classList.add("task-item-delete"),d.textContent="Delete",d.addEventListener("click",(()=>{j.publish(v,{projectTitle:o.dataset.project,title:o.dataset.task}),o.remove()}));const h=document.createElement("button");h.classList.add("task-item-edit"),h.textContent="Edit",h.addEventListener("click",(()=>{document.querySelector(".edit-task-container").classList.add("showItem"),j.publish(p,{projectTitle:o.dataset.project,title:o.dataset.task})}));const f=document.createElement("div");f.classList.add("task-item-controlls"),f.append(h,d),o.classList.add(`priority-${r}`);const m=document.createElement("div");m.classList.add("task-item-normal-view"),m.append(s,c,l,f);const w=document.createElement("div");return w.classList.add("task-item-detail-view","hideItem"),w.append(u),c.addEventListener("click",(()=>{""!==u.textContent&&w.classList.toggle("hideItem")})),o.append(m,w),j.subscribe(y,(({projectTitle:t,taskToEdit:e,title:n,description:r,dueDate:a,priority:i})=>{o.dataset.project===t&&o.dataset.task===e&&(n&&(o.dataset.task=n,c.textContent=n),r&&(u.textContent=r),i&&(le.forEach((t=>o.classList.remove(`priority-${t}`))),o.classList.add(`priority-${i}`)),a&&(l.textContent=Nt(a,ne)))})),o}function fe(t,e){return e?.map((e=>he(t,e)))}function me(t){return le.find((e=>t.className.includes(e)))}function we(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e=e||{})e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function pe(t,e,n){O(2,arguments);var r=n||{},a=r.locale,i=a&&a.options&&a.options.weekStartsOn,o=null==i?0:J(i),s=null==r.weekStartsOn?o:J(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=I(t),u=J(e),l=c.getUTCDay(),d=u%7,h=(d+7)%7,f=(h<s?7:0)+u-l;return c.setUTCDate(c.getUTCDate()+f),c}var ge=/^(1[0-2]|0?\d)/,be=/^(3[0-1]|[0-2]?\d)/,ve=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,ye=/^(5[0-3]|[0-4]?\d)/,Te=/^(2[0-3]|[0-1]?\d)/,ke=/^(2[0-4]|[0-1]?\d)/,Ce=/^(1[0-1]|0?\d)/,xe=/^(1[0-2]|0?\d)/,De=/^[0-5]?\d/,Ee=/^[0-5]?\d/,Me=/^\d/,Le=/^\d{1,2}/,Se=/^\d{1,3}/,qe=/^\d{1,4}/,Ue=/^-?\d+/,Pe=/^-?\d/,je=/^-?\d{1,2}/,Ye=/^-?\d{1,3}/,He=/^-?\d{1,4}/,Ne=/^([+-])(\d{2})(\d{2})?|Z/,We=/^([+-])(\d{2})(\d{2})|Z/,Oe=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Ie=/^([+-])(\d{2}):(\d{2})|Z/,Fe=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Qe(t,e,n){var r=e.match(t);if(!r)return null;var a=parseInt(r[0],10);return{value:n?n(a):a,rest:e.slice(r[0].length)}}function Ge(t,e){var n=e.match(t);return n?"Z"===n[0]?{value:0,rest:e.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:e.slice(n[0].length)}:null}function Re(t,e){return Qe(Ue,t,e)}function Be(t,e,n){switch(t){case 1:return Qe(Me,e,n);case 2:return Qe(Le,e,n);case 3:return Qe(Se,e,n);case 4:return Qe(qe,e,n);default:return Qe(new RegExp("^\\d{1,"+t+"}"),e,n)}}function Xe(t,e,n){switch(t){case 1:return Qe(Pe,e,n);case 2:return Qe(je,e,n);case 3:return Qe(Ye,e,n);case 4:return Qe(He,e,n);default:return Qe(new RegExp("^-?\\d{1,"+t+"}"),e,n)}}function ze(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ae(t,e){var n,r=e>0,a=r?e:1-e;if(a<=50)n=t||100;else{var i=a+50;n=t+100*Math.floor(i/100)-(t>=i%100?100:0)}return r?n:1-n}var $e=[31,28,31,30,31,30,31,31,30,31,30,31],Je=[31,29,31,30,31,30,31,31,30,31,30,31];function Ke(t){return t%400==0||t%4==0&&t%100!=0}const Ze={G:{priority:140,parse:function(t,e,n,r){switch(e){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});case"GGGG":default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}},set:function(t,e,n,r){return e.era=n,t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(t,e,n,r){var a=function(t){return{year:t,isTwoDigitYear:"yy"===e}};switch(e){case"y":return Be(4,t,a);case"yo":return n.ordinalNumber(t,{unit:"year",valueCallback:a});default:return Be(e.length,t,a)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n,r){var a=t.getUTCFullYear();if(n.isTwoDigitYear){var i=Ae(n.year,a);return t.setUTCFullYear(i,0,1),t.setUTCHours(0,0,0,0),t}var o="era"in e&&1!==e.era?1-n.year:n.year;return t.setUTCFullYear(o,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(t,e,n,r){var a=function(t){return{year:t,isTwoDigitYear:"YY"===e}};switch(e){case"Y":return Be(4,t,a);case"Yo":return n.ordinalNumber(t,{unit:"year",valueCallback:a});default:return Be(e.length,t,a)}},validate:function(t,e,n){return e.isTwoDigitYear||e.year>0},set:function(t,e,n,r){var a=mt(t,r);if(n.isTwoDigitYear){var i=Ae(n.year,a);return t.setUTCFullYear(i,0,r.firstWeekContainsDate),t.setUTCHours(0,0,0,0),ft(t,r)}var o="era"in e&&1!==e.era?1-n.year:n.year;return t.setUTCFullYear(o,0,r.firstWeekContainsDate),t.setUTCHours(0,0,0,0),ft(t,r)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(t,e,n,r){return Xe("R"===e?4:e.length,t)},set:function(t,e,n,r){var a=new Date(0);return a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0),ct(a)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(t,e,n,r){return Xe("u"===e?4:e.length,t)},set:function(t,e,n,r){return t.setUTCFullYear(n,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(t,e,n,r){switch(e){case"Q":case"QQ":return Be(e.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n,r){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(t,e,n,r){switch(e){case"q":case"qq":return Be(e.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=1&&e<=4},set:function(t,e,n,r){return t.setUTCMonth(3*(n-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(t,e,n,r){var a=function(t){return t-1};switch(e){case"M":return Qe(ge,t,a);case"MM":return Be(2,t,a);case"Mo":return n.ordinalNumber(t,{unit:"month",valueCallback:a});case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,r){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(t,e,n,r){var a=function(t){return t-1};switch(e){case"L":return Qe(ge,t,a);case"LL":return Be(2,t,a);case"Lo":return n.ordinalNumber(t,{unit:"month",valueCallback:a});case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,r){return t.setUTCMonth(n,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(t,e,n,r){switch(e){case"w":return Qe(ye,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return Be(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,e,n,r){return ft(function(t,e,n){O(2,arguments);var r=I(t),a=J(e),i=gt(r,n)-a;return r.setUTCDate(r.getUTCDate()-7*i),r}(t,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(t,e,n,r){switch(e){case"I":return Qe(ye,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return Be(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=53},set:function(t,e,n,r){return ct(function(t,e){O(2,arguments);var n=I(t),r=J(e),a=ht(n)-r;return n.setUTCDate(n.getUTCDate()-7*a),n}(t,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(t,e,n,r){switch(e){case"d":return Qe(be,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return Be(e.length,t)}},validate:function(t,e,n){var r=Ke(t.getUTCFullYear()),a=t.getUTCMonth();return r?e>=1&&e<=Je[a]:e>=1&&e<=$e[a]},set:function(t,e,n,r){return t.setUTCDate(n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(t,e,n,r){switch(e){case"D":case"DD":return Qe(ve,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return Be(e.length,t)}},validate:function(t,e,n){return Ke(t.getUTCFullYear())?e>=1&&e<=366:e>=1&&e<=365},set:function(t,e,n,r){return t.setUTCMonth(0,n),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(t,e,n,r){switch(e){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,r){return(t=pe(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(t,e,n,r){var a=function(t){var e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return Be(e.length,t,a);case"eo":return n.ordinalNumber(t,{unit:"day",valueCallback:a});case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,r){return(t=pe(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(t,e,n,r){var a=function(t){var e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return Be(e.length,t,a);case"co":return n.ordinalNumber(t,{unit:"day",valueCallback:a});case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,n){return e>=0&&e<=6},set:function(t,e,n,r){return(t=pe(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(t,e,n,r){var a=function(t){return 0===t?7:t};switch(e){case"i":case"ii":return Be(e.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return n.day(t,{width:"abbreviated",context:"formatting",valueCallback:a})||n.day(t,{width:"short",context:"formatting",valueCallback:a})||n.day(t,{width:"narrow",context:"formatting",valueCallback:a});case"iiiii":return n.day(t,{width:"narrow",context:"formatting",valueCallback:a});case"iiiiii":return n.day(t,{width:"short",context:"formatting",valueCallback:a})||n.day(t,{width:"narrow",context:"formatting",valueCallback:a});case"iiii":default:return n.day(t,{width:"wide",context:"formatting",valueCallback:a})||n.day(t,{width:"abbreviated",context:"formatting",valueCallback:a})||n.day(t,{width:"short",context:"formatting",valueCallback:a})||n.day(t,{width:"narrow",context:"formatting",valueCallback:a})}},validate:function(t,e,n){return e>=1&&e<=7},set:function(t,e,n,r){return(t=function(t,e){O(2,arguments);var n=J(e);n%7==0&&(n-=7);var r=1,a=I(t),i=a.getUTCDay(),o=((n%7+7)%7<r?7:0)+n-i;return a.setUTCDate(a.getUTCDate()+o),a}(t,n,r)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(t,e,n,r){switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,r){return t.setUTCHours(ze(n),0,0,0),t},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(t,e,n,r){switch(e){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,r){return t.setUTCHours(ze(n),0,0,0),t},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(t,e,n,r){switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,n,r){return t.setUTCHours(ze(n),0,0,0),t},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(t,e,n,r){switch(e){case"h":return Qe(xe,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return Be(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=12},set:function(t,e,n,r){var a=t.getUTCHours()>=12;return a&&n<12?t.setUTCHours(n+12,0,0,0):a||12!==n?t.setUTCHours(n,0,0,0):t.setUTCHours(0,0,0,0),t},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(t,e,n,r){switch(e){case"H":return Qe(Te,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return Be(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=23},set:function(t,e,n,r){return t.setUTCHours(n,0,0,0),t},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(t,e,n,r){switch(e){case"K":return Qe(Ce,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return Be(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=11},set:function(t,e,n,r){return t.getUTCHours()>=12&&n<12?t.setUTCHours(n+12,0,0,0):t.setUTCHours(n,0,0,0),t},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(t,e,n,r){switch(e){case"k":return Qe(ke,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return Be(e.length,t)}},validate:function(t,e,n){return e>=1&&e<=24},set:function(t,e,n,r){var a=n<=24?n%24:n;return t.setUTCHours(a,0,0,0),t},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(t,e,n,r){switch(e){case"m":return Qe(De,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return Be(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n,r){return t.setUTCMinutes(n,0,0),t},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(t,e,n,r){switch(e){case"s":return Qe(Ee,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return Be(e.length,t)}},validate:function(t,e,n){return e>=0&&e<=59},set:function(t,e,n,r){return t.setUTCSeconds(n,0),t},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(t,e,n,r){return Be(e.length,t,(function(t){return Math.floor(t*Math.pow(10,3-e.length))}))},set:function(t,e,n,r){return t.setUTCMilliseconds(n),t},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(t,e,n,r){switch(e){case"X":return Ge(Ne,t);case"XX":return Ge(We,t);case"XXXX":return Ge(Oe,t);case"XXXXX":return Ge(Fe,t);case"XXX":default:return Ge(Ie,t)}},set:function(t,e,n,r){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(t,e,n,r){switch(e){case"x":return Ge(Ne,t);case"xx":return Ge(We,t);case"xxxx":return Ge(Oe,t);case"xxxxx":return Ge(Fe,t);case"xxx":default:return Ge(Ie,t)}},set:function(t,e,n,r){return e.timestampIsSet?t:new Date(t.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(t,e,n,r){return Re(t)},set:function(t,e,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(t,e,n,r){return Re(t)},set:function(t,e,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}};var Ve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tn=/^'([^]*?)'?$/,en=/''/g,nn=/\S/,rn=/[a-zA-Z]/;function an(t,e,n,r){O(3,arguments);var a=String(t),i=String(e),o=r||{},s=o.locale||$;if(!s.match)throw new RangeError("locale must contain match property");var c=s.options&&s.options.firstWeekContainsDate,u=null==c?1:J(c),l=null==o.firstWeekContainsDate?u:J(o.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=s.options&&s.options.weekStartsOn,h=null==d?0:J(d),f=null==o.weekStartsOn?h:J(o.weekStartsOn);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===i)return""===a?I(n):new Date(NaN);var m,w={firstWeekContainsDate:l,weekStartsOn:f,locale:s},p=[{priority:10,subPriority:-1,set:on,index:0}],g=i.match(_e).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,xt[e])(t,s.formatLong,w):t})).join("").match(Ve),b=[];for(m=0;m<g.length;m++){var v=g[m];!o.useAdditionalWeekYearTokens&&St(v)&&qt(v,i,t),!o.useAdditionalDayOfYearTokens&&Lt(v)&&qt(v,i,t);var y=v[0],T=Ze[y];if(T){var k=T.incompatibleTokens;if(Array.isArray(k)){for(var C=void 0,x=0;x<b.length;x++){var D=b[x].token;if(-1!==k.indexOf(D)||D===y){C=b[x];break}}if(C)throw new RangeError("The format string mustn't contain `".concat(C.fullToken,"` and `").concat(v,"` at the same time"))}else if("*"===T.incompatibleTokens&&b.length)throw new RangeError("The format string mustn't contain `".concat(v,"` and any other token at the same time"));b.push({token:y,fullToken:v});var E=T.parse(a,v,s.match,w);if(!E)return new Date(NaN);p.push({priority:T.priority,subPriority:T.subPriority||0,set:T.set,validate:T.validate,value:E.value,index:p.length}),a=E.rest}else{if(y.match(rn))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");if("''"===v?v="'":"'"===y&&(v=sn(v)),0!==a.indexOf(v))return new Date(NaN);a=a.slice(v.length)}}if(a.length>0&&nn.test(a))return new Date(NaN);var M=p.map((function(t){return t.priority})).sort((function(t,e){return e-t})).filter((function(t,e,n){return n.indexOf(t)===e})).map((function(t){return p.filter((function(e){return e.priority===t})).sort((function(t,e){return e.subPriority-t.subPriority}))})).map((function(t){return t[0]})),L=I(n);if(isNaN(L))return new Date(NaN);var S=Z(L,Dt(L)),q={};for(m=0;m<M.length;m++){var U=M[m];if(U.validate&&!U.validate(S,U.value,w))return new Date(NaN);var P=U.set(S,q,U.value,w);P[0]?(S=P[0],we(q,P[1])):S=P}return S}function on(t,e){if(e.timestampIsSet)return t;var n=new Date(0);return n.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),n.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),n}function sn(t){return t.match(tn)[1].replace(en,"'")}!function(){const t=document.querySelector(".main-view-content");j.subscribe(d,(({projectTitle:e,tasks:n})=>{const r=function(t,e){const n=document.createElement("div");n.classList.add("current-project"),n.innerHTML=`\n    <h2 class="current-project-name">${t}</h2>\n    <div class="current-project-controlls">\n      <button class="current-project-create-btn">Create Task</button>\n      <button class="current-project-delete-btn">Delete Project</button>\n      <button class="current-project-completed-btn">\n        Completed Tasks\n      </button>\n      <select class="current-project-sort"></select>\n    </div>\n    <div class="current-project-task-items">\n    </div>`;const r=n.querySelector(".current-project-task-items");return fe(t,e)?.forEach((t=>r.append(t))),function(t){const e=t.querySelector(".current-project-task-items"),n=t.querySelector(".current-project-sort");[{value:0,text:"Choose.."},{value:1,text:"Title"},{value:2,text:"Due Date"},{value:3,text:"Priority"}].forEach((t=>{const e=document.createElement("option");e.value=t.value,e.text=t.text,n.add(e)}));const r=(t,e)=>{const n=t=>!isNaN(t.getTime()),r=t.querySelector(".task-item-date")?.textContent,a=e.querySelector(".task-item-date")?.textContent,i=an(r,ne,new Date),o=an(a,ne,new Date);return n(i)?n(o)?i-o:-1:1},a=(t,e)=>{const n=le.find((e=>t.classList.contains(`priority-${e}`))),r=le.find((t=>e.classList.contains(`priority-${t}`)));return de(r)-de(n)},i=(t,e)=>{const n=t.querySelector(".task-item-name")?.textContent,r=e.querySelector(".task-item-name")?.textContent;return n?.localeCompare(r)},o=t=>{[...e.children]?.sort(t).forEach((t=>e.appendChild(t)))};n.addEventListener("change",(t=>{const e=t.currentTarget.value;"1"===e&&o(i),"2"===e&&o(r),"3"===e&&o(a)}))}(n),n.querySelector(".current-project-create-btn").addEventListener("click",(()=>document.querySelector(".new-task-container").classList.add("showItem"))),n.querySelector(".current-project-delete-btn").addEventListener("click",(()=>{t===document.querySelector(".projects-inbox-btn").textContent?alert("Inbox can't be deleted."):(document.querySelector(".main-view-content").removeChild(n),j.publish(f,t))})),n.querySelector(".current-project-completed-btn").addEventListener("click",(()=>{[...r.children]?.filter((t=>!t.querySelector(".task-item-complete").checked)).forEach((t=>r.appendChild(t)))})),j.subscribe(b,(({projectTitle:t,title:e,description:n,priority:a,dueDate:i})=>{const o=he(t,{title:e,description:n,priority:a,dueDate:i});r.append(o)})),n}(e,n);t.textContent="",t.append(r)}))}();const cn=t=>{const e=document.getElementById(t);le.forEach((t=>{const n=document.createElement("option");n.text=t,e?.add(n)}))};!function(){const t=document.querySelector(".new-task-lightbox"),e=t.querySelector("#task-form"),n=e.querySelector("#task-name-input"),r=e.querySelector("#task-description-input"),a=e.querySelector("#task-date-input"),i=e.querySelector("#task-priority-select"),o=e.querySelector(".new-task-cancel-btn"),s=e.querySelector(".new-task-create-btn");let c="";cn(i.id);const u=ue(".task-feedback");j.subscribe(d,(({projectTitle:t})=>c=t));const l=t=>{t?.preventDefault(),e.reset(),u.reset(),document.querySelector(".new-task-container").classList.remove("showItem")},h=t=>{t?.preventDefault();const e=[oe(n.value),(o=c,s=n.value,ae(o,s)?"Task already exists":null),ce(a.value)].filter((t=>null!==t));var o,s;0===e.length?(j.publish(b,{projectTitle:c,title:n.value,description:r.value,dueDate:a.value?new Date(a.value):null,priority:i.value}),l()):u.render(e)};s.addEventListener("click",h),o.addEventListener("click",l),t.addEventListener("keypress",(t=>{"Enter"===t.key&&h(t),"Escape"===t.key&&l(t)}))}(),function(){const t=document.querySelector(".edit-task-lightbox"),e=t.querySelector("#edit-task-form"),n=e.querySelector("#edit-task-name-input"),r=e.querySelector("#edit-task-description-input"),a=e.querySelector("#edit-task-date-input"),i=e.querySelector("#edit-task-priority-select"),o=e.querySelector(".edit-task-save-btn"),s=e.querySelector(".edit-task-cancel-btn");let c="",u="",l=!1;cn(i.id);const d=ue(".edit-task-feedback");j.subscribe(g,(({projectTitle:t,task:e})=>{const{title:o,description:s,dueDate:d,priority:h,isComplete:f}=e;c=t,u=o,n.value=o,r.value=s,d&&(a.value=Nt(d,"yyyy-MM-dd")),i.value=h,l=f}));const h=t=>{t?.preventDefault(),e.reset(),d.reset(),document.querySelector(".edit-task-container").classList.remove("showItem")},f=t=>{t?.preventDefault();const e=[oe(n.value),se(c,u,n.value),ce(a.value)].filter((t=>null!==t));0===e.length?(j.publish(y,{projectTitle:c,taskToEdit:u,title:n.value,description:r.value,dueDate:a.value?new Date(a.value):null,priority:i.value,isComplete:l}),h()):d.render(e)};o.addEventListener("click",f),s.addEventListener("click",h),t.addEventListener("keypress",(t=>{"Enter"===t.key&&f(t),"Escape"===t.key&&h(t)}))}(),function(){const t=document.querySelector(".main-view-content");j.subscribe(D,(({filter:e,filtered:n})=>((e,n)=>{const r=document.createElement("div");r.classList.add("current-filter");const a=document.createElement("h2");a.classList.add("current-filter-name"),a.textContent=e;const i=(t=>{const e=document.createElement("div");return e.classList.add("current-filter-items"),t.forEach((t=>{const n=re(t.project),r=fe(t.project,t.tasks),a=document.createElement("div");a.classList.add("filter-item"),a.append(n,...r),e.append(a)})),e})(n);if(0===n.length){const t=document.createElement("p");t.classList.add("current-filter-message"),t.textContent="There are no tasks",r.append(a,i,t)}else r.append(a,i);t.textContent="",t.append(r)})(e,n)))}(),j.publish(S,null)})();